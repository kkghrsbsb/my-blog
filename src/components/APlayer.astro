---
import 'aplayer/dist/APlayer.min.css'
import APlayerClient from './APlayerClient.jsx'

const {
  playlistId = '737648214',
  server = 'netease',
  containerId = 'aplayer',
} = Astro.props
---

<APlayerClient
  playlistId={playlistId}
  server={server}
  containerId={containerId}
  client:only="react"
/>

<style>
  :global(#aplayer.aplayer) {
    --aplayer-accent: var(--muted);
  }
  :global([data-theme='dark'] .aplayer) {
    background: var(--background);
    color: var(--foreground);
    border: 1px solid var(--border);
    box-shadow: 0 10px 30px
      color-mix(in oklab, var(--foreground) 10%, transparent);
  }

  :global([data-theme='dark'] .aplayer .aplayer-info),
  :global([data-theme='dark'] .aplayer .aplayer-controller),
  :global([data-theme='dark'] .aplayer .aplayer-list) {
    background: var(--background);
    color: var(--foreground);
  }

  :global([data-theme='dark'] .aplayer .aplayer-title),
  :global([data-theme='dark'] .aplayer .aplayer-author),
  :global([data-theme='dark'] .aplayer .aplayer-time) {
    color: var(--foreground);
  }

  :global([data-theme='dark'] .aplayer .aplayer-list ol li) {
    border-top: 1px solid var(--border);
  }

  :global([data-theme='dark'] .aplayer .aplayer-list ol li:first-child) {
    border-top: none;
  }

  :global([data-theme='dark'] #aplayer .aplayer-body) {
    background: var(--background);
    border-bottom: none;
    box-shadow: none;
    outline: none;
  }

  :global([data-theme='dark'] #aplayer .aplayer-info) {
    border-top: 1px solid var(--border);
  }

  :global([data-theme='dark'] .aplayer .aplayer-list ol li:hover),
  :global([data-theme='dark'] .aplayer .aplayer-list ol li:focus),
  :global([data-theme='dark'] .aplayer .aplayer-list ol li:active) {
    background: color-mix(in oklab, var(--muted) 30%, transparent);
    color: var(--foreground);
  }

  :global([data-theme='dark'] .aplayer .aplayer-list ol li.aplayer-list-light) {
    background: color-mix(in oklab, var(--muted) 45%, transparent);
  }

  :global([data-theme='dark'] .aplayer .aplayer-bar-wrap) {
    background: color-mix(in oklab, var(--muted-foreground) 0%, transparent);
  }

  :global([data-theme='dark'] .aplayer .aplayer-thumb),
  :global([data-theme='dark'] .aplayer .aplayer-volume) {
    background: var(--foreground);
  }

  :global([data-theme='dark'] .aplayer .aplayer-icon) {
    color: var(--foreground);
  }

  :global([data-theme='dark'] .aplayer .aplayer-lrc),
  :global([data-theme='dark'] .aplayer .aplayer-lrc p) {
    color: var(--muted-foreground);
  }

  :global([data-theme='dark'] .aplayer .aplayer-lrc p.aplayer-lrc-current) {
    color: var(--foreground);
  }

  :global([data-theme='dark'] .aplayer .aplayer-list-cur) {
    background-color: var(--foreground);
  }

  :global([data-theme='dark'] .aplayer .aplayer-lrc::before),
  :global([data-theme='dark'] .aplayer .aplayer-lrc::after) {
    background: linear-gradient(
      180deg,
      color-mix(in oklab, var(--background) 95%, transparent),
      transparent
    );
  }

  :global([data-theme='dark'] .aplayer .aplayer-lrc::after) {
    background: linear-gradient(
      0deg,
      color-mix(in oklab, var(--background) 95%, transparent),
      transparent
    );
  }

  :global([data-theme='dark'] .aplayer .aplayer-list ol) {
    scrollbar-color: color-mix(in oklab, var(--muted) 70%, transparent)
      color-mix(in oklab, var(--background) 90%, transparent);
  }

  :global([data-theme='dark'] .aplayer .aplayer-list ol::-webkit-scrollbar) {
    width: 6px;
  }

  :global(
    [data-theme='dark'] .aplayer .aplayer-list ol::-webkit-scrollbar-track
  ) {
    background: color-mix(in oklab, var(--background) 92%, transparent);
  }

  :global(
    [data-theme='dark'] .aplayer .aplayer-list ol::-webkit-scrollbar-thumb
  ) {
    background: color-mix(in oklab, var(--muted) 75%, transparent);
    border-radius: 3px;
  }

  :global(
    [data-theme='dark'] .aplayer .aplayer-list ol::-webkit-scrollbar-thumb:hover
  ) {
    background: color-mix(in oklab, var(--muted) 85%, transparent);
  }

  :global(#aplayer .aplayer-bar .aplayer-played) {
    background: var(--aplayer-accent) !important;
  }

  :global(#aplayer .aplayer-list .aplayer-list-cur) {
    background-color: var(--aplayer-accent) !important;
  }

  :global(#aplayer .aplayer-thumb) {
    background: var(--aplayer-accent) !important;
    border-color: var(--aplayer-accent) !important;
    box-shadow: none !important;
    outline: none !important;
  }

  :global(#aplayer .aplayer-volume-wrap .aplayer-volume-bar .aplayer-volume) {
    background: var(--aplayer-accent) !important;
  }

  :global([data-theme='dark'] #aplayer .aplayer-icon:hover),
  :global([data-theme='dark'] #aplayer .aplayer-icon:focus-visible),
  :global([data-theme='dark'] #aplayer .aplayer-icon:active) {
    background: color-mix(in oklab, var(--muted-foreground) 25%, transparent);
    border-radius: 4px;
  }

  :global([data-theme='dark'] #aplayer .aplayer-icon:hover path),
  :global([data-theme='dark'] #aplayer .aplayer-icon:focus-visible path),
  :global([data-theme='dark'] #aplayer .aplayer-icon:active path) {
    fill: var(--foreground);
  }
</style>
